package software.ulpgc.aoc;

import org.junit.jupiter.api.Test;
import software.ulpgc.aoc.controller.CalibrationController;

import java.util.List;

import static org.junit.jupiter.api.Assertions.assertEquals;

class CalibrationControllerTest {

    @Test
    void testProcessReadings_WithExample() {
        // ejemplo
        List<String> exampleInput = List.of(
            "987654321111111",
            "811111111111119",
            "234234234234278",
            "818181911112111"
        );

        long expectedResult = 357;

        // ejecución
        var controller = CalibrationController.withDigitLength(2);
        long result = controller.processReadings(exampleInput);

        assertEquals(expectedResult, result, "La suma de calibración no es correcta para el ejemplo.");
    }

    @Test
    void testProcessReadings_EmptyList() {
        // Caso lista vacía
        List<String> emptyInput = List.of();
        
        var controller = CalibrationController.withDigitLength(2);
        long result = controller.processReadings(emptyInput);

        assertEquals(0, result, "Si no hay lecturas, el total debería ser 0.");
    }
}
